<div class="container mt-4">
  <h2 class="title">Reservas</h2>

  <table class="table table-striped table-hover" *ngIf="reservas && reservas.length > 0; else semReservas">
    <thead>
      <tr>
        <th>Cliente</th>
        <th>Hotel</th>
        <th>Check-in</th>
        <th>Check-out</th>
        <th>Valor Total</th>
        <th>Status</th>
        <th class="col-acoes">Ações</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let r of reservas">
        <td>{{ r.nomeCliente }}</td>
        <td>{{ r.nomeHotel }}</td>
        <td>{{ r.dataCheckIn | date: 'dd/MM/yyyy' }}</td>
        <td>{{ r.dataCheckOut | date: 'dd/MM/yyyy' }}</td>
        <td>{{ r.valorTotal  }}</td>

        <td>
          <span 
            [ngClass]="{
              'badge bg-success': r.status === 'ATIVA',
              'badge bg-danger': r.status === 'CANCELADA',
              'badge bg-primary': r.status === 'CONFIRMADA'
            }">
            {{ r.status }}
          </span>
        </td>

        <td>
          <div class="acoes-btns">
            <button class="btn btn-danger btn-sm"
                    (click)="cancelar(r.id)"
                    [disabled]="r.status === 'CANCELADA'">
              Cancelar
            </button>

            <button class="btn btn-primary btn-sm"
                    (click)="confirmar(r.id)"
                    [disabled]="r.status === 'CONFIRMADA'">
              Confirmar
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- caso não tenha reservas -->
  <ng-template #semReservas>
    <p class="text-muted">Nenhuma reserva encontrada.</p>
  </ng-template>
</div>
